---
version: "0.5"
assignments:
  assignMPRAworkshop:
    bc_length: 12 ### bc length verified original length 13, but we trimmed 1bp
    BC_rev_comp: true
    # linker_length: 16 ### use 16 original length 31
    linker: "GAATTCATCTGGTACC"
    alignment_tool:
      split_number: 30
      tool: bbmap
      configs:
        sequence_length: 150 ### length verified original length 151, but we trimmed 1bp
        alignment_start: 1
        min_mapping_quality: 30   #  ~1 in 1000 chance the mapping is wrong
    FW:
      - /lustre/groups/itg/teams/zeggini/projects/GO2/MPRA/mpra_test/real_data/assignment/forward/24L005276_S11_L001_R1_001_trimmed_1bp.synced.fastq.gz
    REV:
      - /lustre/groups/itg/teams/zeggini/projects/GO2/MPRA/mpra_test/real_data/assignment/reverse/24L005276_S11_L001_R2_001.r2trim.fastq.gz
    design_file: /lustre/groups/itg/teams/zeggini/projects/GO2/MPRA/mpra_test/real_data/assignment/designed_oligos_deduplicated.fasta
    adapters:
      5prime:
        - TCGGTTCACGCAATG        # 5′ adapter (R1 side)
      3prime:
        - AGGACCGGATCAACT        # 3′ adapter (R2 side)
    # strand_sensitive:
    #   enable: true
    #   forward_adapter: AGGACCGGATCAACT   # 3′ adapter on the reverse side
    #   reverse_adapter: TCGGTTCACGCAATG   # 5′ adapter on the forward side
    configs:
      default:
        min_support: 3  #  A barcode must appear at least k times across all reads to be considered for assignment.
        fraction: 0.7  #  If a barcode appears 10 times, at least 8 of those must align to the same oligo. (Faye used 0.25 in her pipeline)